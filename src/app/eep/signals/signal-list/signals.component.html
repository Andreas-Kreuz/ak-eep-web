<div class="row mt-3">
  <div class="col-sm-12">
    <h1 class="mt-3">
      Signale
    </h1>
  </div>
</div>
<div class="row">
  <div class="col-sm-12 mt-3">
    <div *ngIf="(signals$ | async) as signals; else error1">
      <div *ngIf="signals.length > 0; else error2">
        <div class="card">
          <h5 class="card-header">Signale der Anlage</h5>
          <div class="card-body">
            <!--<p>Eine Liste mit allen Signalen der Anlage.</p>-->
            <table class="table table-sm table-striped">
              <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Position</th>
                <th scope="col">EEP-Modell</th>
                <th scope="col"># wartende Fahrzeuge</th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let signal of signals; trackBy: trackSignalBy">
                <th scope="row">
                  <a [routerLink]="signal.id">
                    {{ signal.id }}
                  </a>
                </th>
                <td ngSwitch="signal.position">
                  {{ positionTextOf(signal) }}
                </td>
                <td class="text-muted">{{ modelTextOf(signal) }}</td>
                <td>
              <span *ngIf="signal.waitingVehiclesCount > 0; else noWait">
                {{ waitingCarsOf(signal) }}
              </span>
                  <ng-template #noWait>
                    -
                  </ng-template>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <ng-template #error2>Es sind keine Signale vorhanden.</ng-template>
    </div>
    <ng-template #error1>Signale wurden nicht geladen.</ng-template>
  </div>
</div>
